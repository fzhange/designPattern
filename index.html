<html>
  <head>
    <meta charset="utf-8" />
    <title>template</title>
    <link
      rel="alternate"
      media="only screen and (max-width: 640px)"
      href=" http://m.home.com/"
    />
    <style>
     .container {
            overflow: hidden;
            width: 100px;
            height: 100px;
            background-color: lightblue;
        }
        
        .box1 {
            float: left;
            height: 20px;
            /* margin: 10px 0; */
            background-color: green;
        }
        
        .box2 {
            height: 20px;
            /* margin: 20px 0; */
            background-color: yellow;
        }
        .left{
          float: left;
          width: 300px;
          height: 300px;
          background-color: aqua;
        }
        div{
          height: 100vh;
        }
    </style>
  </head>
<body id="body" >
  <div>1</div>
  <div>1</div>
  <div>1</div>
</body>
<script>
// example 1
// var a={}, b='123', c=123;  
// a[b]='b';
// a[c]='c';  
// console.log(a[b]); //b



// var a={}, b=Symbol('123'), c=Symbol('123');  
// a[b]='b';
// a[c]='c';  
// console.log(a[b]);

// ---------------------
// // // example 3
// var a={}, b={key:'123'}, c={key:'456'};  
// a[b]='b';
// a[c]='c';  
// console.log(a[b]);
// [0,1,0,3,12]


// function convert(list){ 
//   let arr = [];
//   arr = list.filter((item)=>{
//     let childlist =  list.filter(ele=>{
//       return ele.parentId == item.id
//     })
//     item.children  = childlist;
//     return item.parentId == 0;
//   })
//   return arr;
// }

// let list =[
//     {id:1,name:'部门A',parentId:0},
//     {id:2,name:'部门B',parentId:0},
//     {id:3,name:'部门C',parentId:1},
//     {id:4,name:'部门D',parentId:1},
//     {id:5,name:'部门E',parentId:2},
//     {id:6,name:'部门F',parentId:3},
//     {id:7,name:'部门G',parentId:2},
//     {id:8,name:'部门H',parentId:4}
// ];

// const result = convert(list);
// console.log('result: ', result);
let nums1 = [1, 2, 1,4,5,6],nums2 = [2, 2];
// let str1 =  nums1.join('')
// let str2 = nums2.join('')

// let reg  =  new RegExp(str2)
// str1.match(reg)

// nums1.sort(()=>{
//   return Math.random - 0.5
// })


// function fun(str1){
//   let str = ''
//   str = str1.split('').reverse().join('').replace(/(\d{3})/g,function(match){
//     return match+"."
//   }).split('').reverse().join('');
//   return str
// }

// console.log('fun(nums1): ', fun('10000000000'));

// "abbcddeff".match(/(\w)\1/g)
// 'https://www.trip.com/travel-guide/bangkok-191/?name=zf&elective=123,14,15&elective=xw'.match(/elective=(?=\d*(,\d+)*)/g)
// 'this is a pen'.replace(/\\w/g,function(match){
//   console.log('match: ', match);
// })
// window.onload = function(){
//   function throttle(fun,gap){
//   let oldTime = null;
//   function funx(...arg){
//     let newTime = + new Date();
//     if(!oldTime || newTime - oldTime > gap){
//       console.log('--');
//       oldTime = newTime;
//       fun(...arg)
//     }
//   }
//   return funx;
// }

// document.querySelector('div').onclick = throttle(function(){
//   console.log(1);
// },300)
// }

// function _setInterval(fun,gap){
//   function innerfun(){
//     setTimeout(function(){
//       fun()
//       innerfun();
//     },gap)
//   }
//   innerfun();
// }
// _setInterval(()=>{
//   console.log(1);
// },1000)
// let arr = [9,56,5,2].map((item)=>item+"").sort((x,y)=>{
//   let len = Math.min(x,y);
//   for(let i=0;i<len;i++){
//     if(x[i] > y[i]) return -1;
//     if(x[i] < y[i]) return 1;
//     if(i+1 == len){
//       if(x.length < y.length) {
//         if(x[i] < y[len]) return -1;
//         else return 1;
//       }else{
//        if(x[len] < y[i]) return 1;
//        else return -1;
//       }
//     }
//   }
// })
// console.log('arr: ', arr.join(''));

/**
 *              2 
 *     2        3           5
 * 1     2   3    4       7   8 
 * [2,[2,3,5],[1,2,3,4,7,8]]
 * **/


// let obj = {
//   value:2,
//   children:[{
//     value:2,
//     children:[{
//       value:1,
//     },{
//       value:2,
//     },{
//       value:3,
//     }]
//   },{
//     value:3,
//     children:[{
//       value:3,
//     },{
//       value:4,
//     }]
//   },{
//     value:5,
//     children:[{
//       value:7,
//     },{
//       value:8,
//     }]
//   }]
// }

// function fun(arr){
//   let innerArr = []
//   let total = []
//   let _arr = []
//   for(let i=0;i<arr.length;i++){
//     let item = arr[i];
//     if(!!item.children) {
//       total = total.concat(item.children);
//     }
//     _arr.push(item.value);
//   }
//   innerArr.push(_arr)
//   if(total.length) {
//     innerArr.push(fun(total))
//     total = [];
//   }
//   return innerArr
// }

// console.log('fun(obj.children): ', fun(obj.children));


// function inherit(sub,superobj){
//   function _innerInherit(obj){
//     function fun(){}
//     fun.prototype = Object.create(obj);s
//     return new fun();
//   }
//   let myObj = _innerInherit(superobj.prototype)
//   myObj.constructer = sub;
//   sub.prototype = myObj;
//   return myObj;
// }
// 0 1 1 2 3
// function fibo(idx){
//   let arr  = [0,1] ;
//   if(idx<2) return arr[idx];
//   for(let i=2;i<=idx;i++){
//     arr[i] = arr[i-2]  + arr[i-1]
//   }
//   return arr[idx]
// }
// fibo(3)
// console.log('fibo(3): ', fibo(3));
// let tree = {
//     name: "1",
//     left: {
//         name: "2",
//         left: {
//             name: "3"
//         },
//         right: {
//             name: "4"
//         }
//     },
//     right: {
//         name: "5"
//     }
// }

// console.log('fun(tree): ', fun(tree));
function createStore(reducer,initialState={}){
  let state = initialState;
  let eventList = [];
  function subscrible(eventFun){
    eventList.push(eventFun);
  }
  function unSubscrible(unSubscribleFun){
    let idx = eventList.indexOf(unSubscribleFun);
    if(idx!=-1){
      eventList.splice(idx,1);
    }
  }
  function dispatch(action){
    state = reducer(action,state);
    eventList.forEach((eventEle)=>{
      eventEle();
    })
  }
  return {
    state,
    dispatch,
    subscrible,
    unSubscrible
  }
}

function combineReducer(reducerObj){
  let newState = {}
  return function(action,state){
    Object.entries(reducerObj).forEach(([key,value])=>{
      newState[key] = value(action,state[key]);
    })
    return newState;
  }
}


</script>

</html>
