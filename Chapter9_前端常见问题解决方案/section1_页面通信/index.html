<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    从页面 A 打开一个新页面 B，B 页面关闭（包括意外崩溃），如何通知 A 页面？
</body>
<script>
    //https://juejin.im/post/6854899692178948109#heading-9 腾讯面经
    /**
        情况1 B 页面正常关闭
        正常关闭可以通过监听 beforeunload unload事件做页面退出监听 
        然后通过window.open打开A页面  A页面通过监听页面url的变化【hashchange事件的监听】，做事件处理。

        也可以通过设置storage 然后A页面做storage事件监听，然后做动作。
    **/

    /**
        情况2 B页面crash 此时B页面的js逻辑都不会被执行了。
        在serviceWorker中做心跳检测。
        serverwork线程是独立于js线程之外的，所以js线程崩溃，sw的线程是不会崩溃的。
    **/
</script>
</html>